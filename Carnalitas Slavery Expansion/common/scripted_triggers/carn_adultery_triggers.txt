# this only makes the spouses and lovers of the no_consequences character happy
# anyone they cuckold will always get angry unless they have polyamory -- this is intended behavior.
carn_should_have_no_consequences_for_extramarital_sex_trigger = {
	trigger_if = {
		limit = { exists = scope:partner }
		carn_should_have_no_consequences_for_extramarital_sex_with_partner_trigger = { PARTNER = scope:partner }
	}
	
	# CSE - in 00_adultery_effects I see sex_partner but no partner scope, so I included it here.
	trigger_else_if = {
		limit = { exists = scope:sex_partner }
		carn_should_have_no_consequences_for_extramarital_sex_with_partner_trigger = { PARTNER = scope:sex_partner }
	}
	
	trigger_else = {
		carn_should_have_no_consequences_for_extramarital_sex_with_no_partner_trigger = yes
	}
}

carn_should_have_no_consequences_for_extramarital_sex_with_partner_trigger = {
	OR = {
		# they are exempt from adultery in and of itself
		carn_should_have_no_consequences_for_extramarital_sex_with_no_partner_trigger = yes

		# it's a slave owner fucking their slave
		has_relation_slave_owner = $PARTNER$
		has_relation_slave = $PARTNER$
		
		# CSE - husbands usually knew of their spouse's activities as a courtesan, so they are exempt regardless of adultery crime
		# CSE - not included in no drama trigger, so soulmates will still be pissed
		#cse_is_courtesan_trigger = yes
		has_relation_courtesan_owner = $PARTNER$
		
		# CSE - NO DRAMA CHECK
		cse_no_drama_trigger = { PARTNER = $PARTNER$ }

		# special mod flags
		$PARTNER$ = { has_character_flag = carn_no_consequences_for_extramarital_sex_with_me }
		$PARTNER$ = { has_trait_with_flag = carn_no_consequences_for_extramarital_sex_with_me }
		$PARTNER$ = {
			culture = { has_cultural_parameter = carn_no_consequences_for_extramarital_sex_with_me }
		}
	}
}

carn_should_have_no_consequences_for_extramarital_sex_with_no_partner_trigger = {
	OR = {
		# CSE - should a slave not be exempt from adultery in and of itself?
		has_trait = slave
		
		# special mod flags
		has_character_flag = carn_no_consequences_for_extramarital_sex_with_others
		has_trait_with_flag = carn_no_consequences_for_extramarital_sex_with_others
		culture = { has_cultural_parameter = carn_no_consequences_for_extramarital_sex_with_others }
	}
}