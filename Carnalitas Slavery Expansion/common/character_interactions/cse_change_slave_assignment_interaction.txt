cse_change_slave_assignment_interaction = {
	interface_priority = 80
	common_interaction = yes
	category = interaction_category_prison

	desc = cse_change_slave_assignment_interaction_desc
	
	is_shown = {
		scope:actor = {
			has_relation_slave = scope:recipient
		}
	}

	is_valid_showing_failures_only = {
		scope:recipient = {
			cse_can_work_ignoring_age_trigger = yes
		}
	}
	
	#################### SLAVE PROSTITUTE ############################################################
	send_option = {
		is_shown = {
			scope:actor = {
				NOT = { faith = { has_doctrine_parameter = carn_prostitution_illegal } }
			}
			scope:recipient = {
				#effective_age >= cse_slave_prostitute_age_start_value
				cse_can_be_slave_prostitute_trigger = yes
				cse_can_have_sex_ignoring_age_trigger = yes
			}
		}
		
		is_valid = {
			scope:recipient = {	cse_is_assigned_as_slave_prostitute_trigger = no }
			scope:actor = {
				custom_description = {
					text = cse_slave_prostitute_ownership_limit_reached
					any_relation = {
						type = slave
						cse_is_assigned_as_slave_prostitute_trigger = yes
						count < cse_slave_prostitute_ownership_limit_value
					}
				}
			}
		}
		
		flag = cse_assign_slave_prostitute
		localization = game_concept_prostitute
		#starts_enabled = { scope:recipient = {	cse_is_assigned_as_slave_prostitute_trigger = yes } }
	}
	
	#################### LABOUR SLAVE ############################################################
	send_option = {
		is_shown = {
			scope:recipient = {
				#effective_age >= cse_labour_slave_age_start_value
				cse_can_work_ignoring_age_trigger = yes
			}
		}
		
		is_valid = {
			scope:recipient = {	cse_is_assigned_as_labour_slave_trigger = no }
			scope:actor = {
				custom_description = {
					text = cse_labour_slave_ownership_limit_reached
					any_relation = {
						type = slave
						cse_is_assigned_as_labour_slave_trigger = yes
						count < cse_labour_slave_ownership_limit_value
					}
				}
			}		
		}
		
		flag = cse_assign_labour_slave
		localization = game_concept_cse_labour_slave
		#starts_enabled = { scope:recipient = {	cse_is_assigned_as_labour_slave_trigger = yes } }
	}
	
	#################### MILITARY SLAVE ############################################################
	send_option = {
		is_shown = {
			scope:recipient = {
				#effective_age >= cse_military_slave_age_start_value
				cse_can_work_ignoring_age_trigger = yes
			}
		}
		
		is_valid = {
			scope:recipient = {	cse_is_assigned_as_military_slave_trigger = no }
			scope:actor = {
				custom_description = {
					text = cse_military_slave_ownership_limit_reached
					any_relation = {
						type = slave
						cse_is_assigned_as_military_slave_trigger = yes
						count < cse_military_slave_ownership_limit_value
					}
				}
			}
		}
		
		flag = cse_assign_military_slave
		localization = game_concept_cse_military_slave
		#starts_enabled = { scope:recipient = {	cse_is_assigned_as_military_slave_trigger = yes } }
	}
	
	#################### SEX SLAVE ############################################################
	send_option = {
		is_shown = {
			scope:recipient = {
				#effective_age >= cse_sex_slave_age_start_value
				cse_can_work_ignoring_age_trigger = yes
			}
		}
		
		is_valid = {
			scope:recipient = {	cse_is_assigned_as_sex_slave_trigger = no }
			scope:actor = {
				custom_description = {
					text = cse_sex_slave_ownership_limit_reached
					any_relation = {
						type = slave
						cse_is_assigned_as_sex_slave_trigger = yes
						count < cse_sex_slave_ownership_limit_value
					}
				}
			}
		}
		
		flag = cse_assign_sex_slave
		localization = game_concept_cse_sex_slave
		#starts_enabled = { scope:recipient = {	cse_is_assigned_as_sex_slave_trigger = yes } }
	}
	
	#################### REMOVE ASSIGNMENT ############################################################
	send_option = {
		is_shown = {
			scope:recipient = {
				OR = {
					cse_is_assigned_as_slave_prostitute_trigger = yes
					cse_is_assigned_as_labour_slave_trigger = yes
					cse_is_assigned_as_military_slave_trigger = yes
					cse_is_assigned_as_sex_slave_trigger = yes
				}
			}
		}
		
		flag = cse_remove_slave_assignment
		localization = cse_remove_slave_assignment_loc
		starts_enabled = {
			scope:recipient = {
				OR = {
					cse_is_assigned_as_slave_prostitute_trigger = yes
					cse_is_assigned_as_labour_slave_trigger = yes
					cse_is_assigned_as_military_slave_trigger = yes
					cse_is_assigned_as_sex_slave_trigger = yes
				}
			}
		}
	}
	
	send_options_exclusive = yes

	on_accept = {
		
		#################### SLAVE PROSTITUTE ############################################################
		
		if = {
			limit = { scope:cse_assign_slave_prostitute = yes }
			if = {
				limit = { scope:recipient = { effective_age >= cse_slave_prostitute_age_start_value } }
				show_as_tooltip = {
					scope:actor = {
						add_gold = scope:recipient.cse_slave_prostitute_income_value
						if = {
							limit = { cse_slave_piety_loss_through_prostitution_trigger = yes }
							add_piety = cse_slave_piety_loss_through_prostitution_amount_value
						}
						if = {
							limit = { scope:recipient = { cse_slave_piety_loss_through_faith_trigger = yes } }
							add_piety = cse_slave_piety_loss_through_faith_amount_value
						}
						else_if = {
							limit = { scope:recipient = { cse_slave_piety_on_opinion_trigger = yes } }
							add_piety = cse_slave_piety_on_opinion_amount_value
						}
						scope:recipient = { cse_slave_xp_gain_prediction_effect = yes }
					}
				}
			}
			scope:recipient = { save_scope_as = cse_slave_prostitute }
			scope:actor = {
				if = {
					limit = {
						cse_is_slave_prostitute_trigger = no
						cse_was_slave_prostitute_trigger = no
						cse_accepts_prostitution_trigger = no
					}
					add_piety_level = -1
				}
				send_interface_toast = {
					type = event_generic_neutral
					title = cse_msg_started_working_as_slave_prostitute
					right_icon = scope:recipient
					scope:recipient = {
						if = {
							limit = { has_trait = celibate }
							remove_trait = celibate
							add_opinion = {
								target = scope:actor
								modifier = cse_forced_me_to_end_my_celibacy_opinion
							}
						}
						
						if = {
							limit = { effective_age < cse_slave_prostitute_age_start_value }
							# No penalty
						}
						else_if = {
							limit = {
								OR = {
									cse_is_slave_prostitute_trigger = yes
									cse_was_slave_prostitute_trigger = yes
									carn_has_fetish_trigger = {	FETISH = submission	}
								}
							}
							# No penalty
						}
						else = {
							add_opinion = {
								target = scope:actor
								modifier = cse_forced_me_into_slave_prostitution_opinion
							}
						}
						cse_start_working_as_slave_prostitute_effect = yes
					}
				}
				stress_impact = {
					generous = medium_stress_impact_gain
					compassionate = major_stress_impact_gain
				}
			}
		}
		
		#################### LABOUR SLAVE ############################################################
		
		else_if = {
			limit = { scope:cse_assign_labour_slave = yes }
			if = {
				limit = { scope:recipient = { effective_age >= cse_labour_slave_age_start_value } }
				show_as_tooltip = {
					scope:actor = {
						add_gold = scope:recipient.cse_labour_slave_income_value
						if = {
							limit = { scope:recipient = { cse_slave_piety_loss_through_faith_trigger = yes } }
							add_piety = cse_slave_piety_loss_through_faith_amount_value
						}
						else_if = {
							limit = { scope:recipient = { cse_slave_piety_on_opinion_trigger = yes } }
							add_piety = cse_slave_piety_on_opinion_amount_value
						}
						scope:recipient = { cse_slave_xp_gain_prediction_effect = yes }
					}
				}
			}
			scope:recipient = { save_scope_as = cse_labour_slave }
			scope:actor = {
				send_interface_toast = {
					type = event_generic_neutral
					title = cse_msg_started_working_as_labour_slave
					right_icon = scope:recipient
					scope:recipient = {
						if = {
							limit = { effective_age < cse_labour_slave_age_start_value }
							# No penalty
						}
						else_if = {
							limit = {
								OR = {
									cse_is_labour_slave_trigger = yes
									cse_was_labour_slave_trigger = yes
									carn_has_fetish_trigger = {	FETISH = submission	}
								}
							}
							# No penalty
						}
						else = {
							add_opinion = {
								target = scope:actor
								modifier = cse_forced_me_into_forced_labour_opinion
							}
						}
						cse_start_working_as_labour_slave_effect = yes
					}
				}
				stress_impact = {
					generous = medium_stress_impact_gain
					compassionate = major_stress_impact_gain
				}
			}
		}
		
		#################### MILITARY SLAVE ############################################################
		
		else_if = {
			limit = { scope:cse_assign_military_slave = yes }
			if = {
				limit = { scope:recipient = { effective_age >= cse_military_slave_age_start_value } }
				show_as_tooltip = {
					scope:actor = {
						add_prestige = scope:recipient.cse_military_slave_income_value
						remove_short_term_gold = scope:recipient.cse_military_slave_expense_value
						if = {
							limit = { scope:recipient = { cse_slave_piety_loss_through_faith_trigger = yes } }
							add_piety = cse_slave_piety_loss_through_faith_amount_value
						}
						else_if = {
							limit = { scope:recipient = { cse_slave_piety_on_opinion_trigger = yes } }
							add_piety = cse_slave_piety_on_opinion_amount_value
						}
						scope:recipient = { cse_slave_xp_gain_prediction_effect = yes }
					}
				}
			}
			scope:recipient = { save_scope_as = cse_military_slave }
			scope:actor = {
				send_interface_toast = {
					type = event_generic_neutral
					title = cse_msg_started_working_as_miliary_slave
					right_icon = scope:recipient
					scope:recipient = {
						if = {
							limit = { effective_age < cse_military_slave_age_start_value }
							# No penalty
						}
						else_if = {
							limit = {
								OR = {
									cse_is_military_slave_trigger = yes
									cse_was_military_slave_trigger = yes
									carn_has_fetish_trigger = {	FETISH = submission	}
								}
							}
							# No penalty
						}
						else = {
							add_opinion = {
								target = scope:actor
								modifier = cse_forced_me_into_slave_military_opinion
							}
						}
						cse_start_working_as_military_slave_effect = yes
					}
				}
				stress_impact = {
					generous = medium_stress_impact_gain
					compassionate = major_stress_impact_gain
				}
			}
		}
		
		#################### SEX SLAVE ############################################################
		
		else_if = {
			limit = { scope:cse_assign_sex_slave = yes }
			if = {
				limit = { scope:recipient = { effective_age >= cse_sex_slave_age_start_value } }
				show_as_tooltip = {
					scope:actor = {
						add_stress = scope:recipient.cse_sex_slave_income_inverted_value
						remove_short_term_gold = scope:recipient.cse_sex_slave_expense_value
						if = {
							limit = { scope:recipient = { cse_slave_piety_loss_through_faith_trigger = yes } }
							add_piety = cse_slave_piety_loss_through_faith_amount_value
						}
						else_if = {
							limit = { scope:recipient = { cse_slave_piety_on_opinion_trigger = yes } }
							add_piety = cse_slave_piety_on_opinion_amount_value
						}
						scope:recipient = { cse_slave_xp_gain_prediction_effect = yes }
					}
				}
			}
			scope:recipient = { save_scope_as = cse_sex_slave }
			scope:actor = {
				send_interface_toast = {
					type = event_generic_neutral
					title = cse_msg_started_working_as_sex_slave
					right_icon = scope:recipient
					scope:recipient = {
						if = {
							limit = { has_trait = celibate }
							remove_trait = celibate
							add_opinion = {
								target = scope:actor
								modifier = cse_forced_me_to_end_my_celibacy_opinion
							}
						}
						
						if = {
							limit = { effective_age < cse_sex_slave_age_start_value }
							# No penalty
						}
						else_if = {
							limit = {
								is_attracted_to_gender_of = scope:actor
								OR = {
									cse_is_sex_slave_trigger = yes
									cse_was_sex_slave_trigger = yes
									carn_has_fetish_trigger = {	FETISH = submission	}
									AND = {
										has_trait = lustful
										OR = {
											opinion = {
												target = scope:actor
												value > 50
											}
											scope:actor = { attraction > 20 }
										}
									}
								}
							}
							# No penalty
						}
						else = {
							add_opinion = {
								target = scope:actor
								modifier = cse_forced_me_into_sex_slavery_opinion
							}
						}
						cse_start_working_as_sex_slave_effect = yes
					}
				}
				stress_impact = {
					lustful = minor_stress_impact_loss
					chaste = major_stress_impact_gain
				}
			}
		}
		
		#################### REMOVE ASSIGNMENT ############################################################
		
		else_if = {
			limit = { scope:cse_remove_slave_assignment = yes }
			if = {
				limit = { scope:recipient = { cse_is_assigned_as_slave_prostitute_trigger = yes } }
				scope:recipient = { save_scope_as = cse_slave_prostitute }
				scope:actor = {
					send_interface_message = {
						type = event_generic_neutral
						title = cse_msg_stopped_working_as_slave_prostitute
						right_icon = scope:recipient
						scope:recipient = {
							cse_stop_working_as_slave_prostitute_effect = yes
						}
					}
					stress_impact = {
						greedy = medium_stress_impact_gain
						compassionate = major_stress_impact_loss
					}
				}
			}
			else_if = {
				limit = { scope:recipient = { cse_is_assigned_as_labour_slave_trigger = yes } }
				scope:recipient = { save_scope_as = cse_labour_slave }
				scope:actor = {
					send_interface_message = {
						type = event_generic_neutral
						title = cse_msg_stopped_working_as_labour_slave
						right_icon = scope:recipient
						scope:recipient = {
							cse_stop_working_as_labour_slave_effect = yes
						}
					}
					stress_impact = {
						greedy = medium_stress_impact_gain
						compassionate = major_stress_impact_loss
					}
				}
			}
			else_if = {
				limit = { scope:recipient = { cse_is_assigned_as_military_slave_trigger = yes } }
				scope:recipient = { save_scope_as = cse_military_slave }
				scope:actor = {
					send_interface_message = {
						type = event_generic_neutral
						title = cse_msg_stopped_working_as_miliary_slave
						right_icon = scope:recipient
						scope:recipient = {
							cse_stop_working_as_military_slave_effect = yes
						}
					}
					stress_impact = {
						greedy = medium_stress_impact_gain
						compassionate = major_stress_impact_loss
					}
				}
			}
			else_if = {
				limit = { scope:recipient = { cse_is_assigned_as_sex_slave_trigger = yes } }
				scope:recipient = { save_scope_as = cse_sex_slave }
				scope:actor = {
					send_interface_message = {
						type = event_generic_neutral
						title = cse_msg_stopped_working_as_sex_slave
						right_icon = scope:recipient
						scope:recipient = {
							cse_stop_working_as_sex_slave_effect = yes
						}
					}
					stress_impact = {
						lustful = minor_stress_impact_gain
						chaste = major_stress_impact_loss
						compassionate = major_stress_impact_loss
					}
				}
			}
		}
	}

	auto_accept = yes

}

# #################### LEGACY ASSIGN INTERACTIONS ########################################################################################################################
#
##################### SLAVE PROSTITUTE ############################################################
#
#cse_assign_slave_prostitute_interaction = {
#	interface_priority = 32
#	common_interaction = no
#	category = interaction_category_prison
#
#	desc = cse_assign_slave_prostitute_interaction_desc
#	
#	is_shown = {
#		scope:actor = {
#			has_relation_slave = scope:recipient
#			NOT = { faith = { has_doctrine_parameter = carn_prostitution_illegal } }
#		}
#		scope:recipient = {
#			#effective_age > cse_slave_prostitute_age_start_value
#			cse_can_be_slave_prostitute_trigger = yes
#			cse_is_working_as_slave_prostitute_trigger = no
#		}
#	}
#
#	is_valid_showing_failures_only = {
#		scope:recipient = {
#			is_busy_in_events_localised = yes
#			cse_can_have_sex_trigger = yes
#			#cse_is_working_as_slave_prostitute_trigger = no
#			cse_is_working_as_labour_slave_trigger = no
#			cse_is_working_as_military_slave_trigger = no
#			cse_is_working_as_sex_slave_trigger = no
#		}
#	}
#
#	is_valid = {
#	#	scope:recipient = {
#	#		effective_age < cse_slave_prostitute_age_limit_value
#	#	}
#		scope:actor = {
#			custom_description = {
#				text = cse_slave_prostitute_ownership_limit_reached
#				any_relation = {
#					type = slave
#					cse_is_working_as_slave_prostitute_trigger = yes
#					count < cse_slave_prostitute_ownership_limit_value
#				}
#			}
#		}
#	}
#
#	on_accept = {
#		show_as_tooltip = {
#			scope:recipient = {
#				scope:actor = {
#					add_gold = prev.cse_slave_prostitute_income_value
#					if = {
#						limit = { cse_slave_piety_loss_through_prostitution_trigger = yes }
#						add_piety = cse_slave_piety_loss_through_prostitution_amount_value
#					}
#					if = {
#						limit = { scope:recipient = { cse_slave_piety_loss_through_faith_trigger = yes } }
#						add_piety = cse_slave_piety_loss_through_faith_amount_value
#					}
#					else_if = {
#						limit = { scope:recipient = { cse_slave_piety_on_opinion_trigger = yes } }
#						add_piety = cse_slave_piety_on_opinion_amount_value
#					}
#					scope:recipient = { cse_slave_xp_gain_prediction_effect = yes }
#				}
#			}
#		}
#		scope:actor = {
#			if = {
#				limit = {
#					cse_is_slave_prostitute_trigger = no
#					cse_accepts_prostitution_trigger = no
#				}
#				add_piety_level = -1
#			}
#			send_interface_toast = {
#				type = event_generic_neutral
#				title = cse_msg_started_working_as_slave_prostitute
#				right_icon = scope:recipient
#				scope:recipient = {
#					if = {
#						limit = {
#							effective_age > cse_slave_prostitute_age_start_value
#							cse_is_slave_prostitute_trigger = no
#							cse_was_slave_prostitute_trigger = no
#							NOT = {
#								carn_has_fetish_trigger = {
#									FETISH = submission
#								}
#							}
#						}
#						add_opinion = {
#							target = scope:actor
#							modifier = cse_forced_me_into_slave_prostitution_opinion
#						}
#					}
#					cse_start_working_as_slave_prostitute_effect = yes
#				}
#			}
#			stress_impact = {
#				generous = medium_stress_impact_gain
#				compassionate = major_stress_impact_gain
#			}
#		}
#	}
#
#	auto_accept = yes
#
#}
#
##################### LABOUR SLAVE ############################################################
#
#cse_assign_labour_slave_interaction = {
#	interface_priority = 32
#	common_interaction = no
#	category = interaction_category_prison
#
#	desc = cse_assign_labour_slave_interaction_desc
#	
#	is_shown = {
#		scope:actor = {
#			has_relation_slave = scope:recipient
#		}
#		scope:recipient = {
#			#effective_age > cse_labour_slave_age_start_value
#			cse_is_working_as_labour_slave_trigger = no
#		}
#	}
#
#	is_valid_showing_failures_only = {
#		scope:recipient = {
#			is_busy_in_events_localised = yes
#			cse_is_working_as_slave_prostitute_trigger = no
#			#cse_is_working_as_labour_slave_trigger = no
#			cse_is_working_as_military_slave_trigger = no
#			cse_is_working_as_sex_slave_trigger = no
#		}
#	}
#
#	is_valid = {
#	#	scope:recipient = {
#	#		effective_age < cse_labour_slave_age_limit_value
#	#	}
#		scope:actor = {
#			custom_description = {
#				text = cse_labour_slave_ownership_limit_reached
#				any_relation = {
#					type = slave
#					cse_is_working_as_labour_slave_trigger = yes
#					count < cse_labour_slave_ownership_limit_value
#				}
#			}
#		}
#	}
#
#	on_accept = {
#		show_as_tooltip = {
#			scope:recipient = {
#				scope:actor = {
#					add_gold = prev.cse_labour_slave_income_value
#					if = {
#						limit = { scope:recipient = { cse_slave_piety_loss_through_faith_trigger = yes } }
#						add_piety = cse_slave_piety_loss_through_faith_amount_value
#					}
#					else_if = {
#						limit = { scope:recipient = { cse_slave_piety_on_opinion_trigger = yes } }
#						add_piety = cse_slave_piety_on_opinion_amount_value
#					}
#					scope:recipient = { cse_slave_xp_gain_prediction_effect = yes }
#				}
#			}
#		}
#		scope:actor = {
#			send_interface_toast = {
#				type = event_generic_neutral
#				title = cse_msg_started_working_as_labour_slave
#				right_icon = scope:recipient
#				scope:recipient = {
#					if = {
#						limit = {
#							effective_age > cse_labour_slave_age_start_value
#							cse_is_labour_slave_trigger = no
#							cse_was_labour_slave_trigger = no
#							NOT = {
#								carn_has_fetish_trigger = {
#									FETISH = submission
#								}
#							}
#						}
#						add_opinion = {
#							target = scope:actor
#							modifier = cse_forced_me_into_forced_labour_opinion
#						}
#					}
#					cse_start_working_as_labour_slave_effect = yes
#				}
#			}
#			stress_impact = {
#				generous = medium_stress_impact_gain
#				compassionate = major_stress_impact_gain
#			}
#		}
#	}
#
#	auto_accept = yes
#
#}
#
##################### MILITARY SLAVE ############################################################
#
#cse_assign_military_slave_interaction = {
#	interface_priority = 32
#	common_interaction = no
#	category = interaction_category_prison
#
#	desc = cse_assign_military_slave_interaction_desc
#	
#	is_shown = {
#		scope:actor = {
#			has_relation_slave = scope:recipient
#		}
#		scope:recipient = {
#			#effective_age > cse_military_slave_age_start_value
#			cse_is_working_as_military_slave_trigger = no
#		}
#	}
#
#	is_valid_showing_failures_only = {
#		scope:recipient = {
#			is_busy_in_events_localised = yes
#			cse_is_working_as_slave_prostitute_trigger = no
#			cse_is_working_as_labour_slave_trigger = no
#			#cse_is_working_as_military_slave_trigger = no
#			cse_is_working_as_sex_slave_trigger = no
#		}
#	}
#
#	is_valid = {
#	#	scope:recipient = {
#	#		effective_age < cse_military_slave_age_limit_value
#	#	}
#		scope:actor = {
#			custom_description = {
#				text = cse_military_slave_ownership_limit_reached
#				any_relation = {
#					type = slave
#					cse_is_working_as_military_slave_trigger = yes
#					count < cse_military_slave_ownership_limit_value
#				}
#			}
#		}
#	}
#
#	on_accept = {
#		show_as_tooltip = {
#			scope:recipient = {
#				scope:actor = {
#					add_prestige = prev.cse_military_slave_income_value
#					remove_short_term_gold = prev.cse_military_slave_expense_value
#					if = {
#						limit = { scope:recipient = { cse_slave_piety_loss_through_faith_trigger = yes } }
#						add_piety = cse_slave_piety_loss_through_faith_amount_value
#					}
#					else_if = {
#						limit = { scope:recipient = { cse_slave_piety_on_opinion_trigger = yes } }
#						add_piety = cse_slave_piety_on_opinion_amount_value
#					}
#					scope:recipient = { cse_slave_xp_gain_prediction_effect = yes }
#				}
#			}
#		}
#		scope:actor = {
#			send_interface_toast = {
#				type = event_generic_neutral
#				title = cse_msg_started_working_as_miliary_slave
#				right_icon = scope:recipient
#				scope:recipient = {
#					if = {
#						limit = {
#							effective_age > cse_military_slave_age_start_value
#							cse_is_military_slave_trigger = no
#							cse_was_military_slave_trigger = no
#							NOT = {
#								carn_has_fetish_trigger = {
#									FETISH = submission
#								}
#							}
#						}
#						add_opinion = {
#							target = scope:actor
#							modifier = cse_forced_me_into_slave_military_opinion
#						}
#					}
#					cse_start_working_as_military_slave_effect = yes
#				}
#			}
#			stress_impact = {
#				generous = medium_stress_impact_gain
#				compassionate = major_stress_impact_gain
#			}
#		}
#	}
#
#	auto_accept = yes
#
#}
#
##################### SEX SLAVE ############################################################
#
#cse_assign_sex_slave_interaction = {
#	interface_priority = 32
#	common_interaction = no
#	category = interaction_category_prison
#
#	desc = cse_assign_sex_slave_interaction_desc
#	
#	is_shown = {
#		scope:actor = {
#			has_relation_slave = scope:recipient
#		}
#		scope:recipient = {
#			#is_adult = yes
#			cse_is_working_as_sex_slave_trigger = no
#		}
#	}
#
#	is_valid_showing_failures_only = {
#		scope:recipient = {
#			is_busy_in_events_localised = yes
#			cse_is_working_as_slave_prostitute_trigger = no
#			cse_is_working_as_labour_slave_trigger = no
#			cse_is_working_as_military_slave_trigger = no
#			#cse_is_working_as_sex_slave_trigger = no
#		}
#	}
#
#	is_valid = {
#	#	scope:recipient = {
#	#		effective_age < cse_sex_slave_age_limit_value
#	#	}
#		scope:actor = {
#			custom_description = {
#				text = cse_sex_slave_ownership_limit_reached
#				any_relation = {
#					type = slave
#					cse_is_working_as_sex_slave_trigger = yes
#					count < cse_sex_slave_ownership_limit_value
#				}
#			}
#		}
#	}
#	
#	on_accept = {
#		show_as_tooltip = {
#			scope:recipient = {
#				scope:actor = {
#					add_stress = prev.cse_sex_slave_income_inverted_value
#					remove_short_term_gold = prev.cse_sex_slave_expense_value
#					if = {
#						limit = { scope:recipient = { cse_slave_piety_loss_through_faith_trigger = yes } }
#						add_piety = cse_slave_piety_loss_through_faith_amount_value
#					}
#					else_if = {
#						limit = { scope:recipient = { cse_slave_piety_on_opinion_trigger = yes } }
#						add_piety = cse_slave_piety_on_opinion_amount_value
#					}
#					scope:recipient = { cse_slave_xp_gain_prediction_effect = yes }
#				}
#			}
#		}
#		scope:actor = {
#			send_interface_toast = {
#				type = event_generic_neutral
#				title = cse_msg_started_working_as_sex_slave
#				right_icon = scope:recipient
#				scope:recipient = {
#					if = {
#						limit = { effective_age < cse_sex_slave_age_start_value }
#						# No penalty
#					}
#					else_if = {
#						limit = {
#							is_attracted_to_gender_of = scope:actor
#							OR = {
#								cse_is_sex_slave_trigger = yes
#								cse_was_sex_slave_trigger = yes
#								carn_has_fetish_trigger = {	FETISH = submission	}
#								AND = {
#									has_trait = lustful
#									OR = {
#										opinion = {
#											target = scope:actor
#											value > 50
#										}
#										scope:actor = { attraction > 20 }
#									}
#								}
#							}
#						}
#						# No penalty
#					}
#					else = {
#						add_opinion = {
#							target = scope:actor
#							modifier = cse_forced_me_into_sex_slavery_opinion
#						}
#					}
#					cse_start_working_as_sex_slave_effect = yes
#				}
#			}
#			stress_impact = {
#				lustful = minor_stress_impact_loss
#				chaste = major_stress_impact_gain
#			}
#		}
#	}
#
#	auto_accept = yes
#
#}

# #################### LEGACY REMOVE INTERACTIONS ########################################################################################################################
#
##################### SLAVE PROSTITUTE ############################################################
#
#cse_remove_slave_prostitute_interaction = {
#	interface_priority = 32
#	common_interaction = no
#	category = interaction_category_prison
#
#	desc = cse_remove_slave_prostitute_interaction_desc
#	
#	is_shown = {
#		scope:actor = {
#			has_relation_slave = scope:recipient
#		}
#		scope:recipient = {
#			cse_is_working_as_slave_prostitute_trigger = yes
#		}
#	}
#
#	is_valid_showing_failures_only = {
#		scope:recipient = {
#			is_busy_in_events_localised = yes
#		}
#	}
#	
#	on_accept = {
#		scope:actor = {
#			send_interface_message = {
#				type = event_generic_neutral
#				title = cse_msg_stopped_working_as_slave_prostitute
#				right_icon = scope:recipient
#				scope:recipient = {
#					cse_stop_working_as_slave_prostitute_effect = yes
#				}
#			}
#			stress_impact = {
#				greedy = medium_stress_impact_gain
#				compassionate = major_stress_impact_loss
#			}
#		}
#	}
#
#	auto_accept = yes
#
#}
#
##################### LABOUR SLAVE ############################################################
#
#cse_remove_labour_slave_interaction = {
#	interface_priority = 32
#	common_interaction = no
#	category = interaction_category_prison
#
#	desc = cse_remove_labour_slave_interaction_desc
#	
#	is_shown = {
#		scope:actor = {
#			has_relation_slave = scope:recipient
#		}
#		scope:recipient = {
#			cse_is_working_as_labour_slave_trigger = yes
#		}
#	}
#
#	is_valid_showing_failures_only = {
#		scope:recipient = {
#			is_busy_in_events_localised = yes
#		}
#	}
#	
#	on_accept = {
#		scope:actor = {
#			send_interface_message = {
#				type = event_generic_neutral
#				title = cse_msg_stopped_working_as_labour_slave
#				right_icon = scope:recipient
#				scope:recipient = {
#					cse_stop_working_as_labour_slave_effect = yes
#				}
#			}
#			stress_impact = {
#				greedy = medium_stress_impact_gain
#				compassionate = major_stress_impact_loss
#			}
#		}
#	}
#
#	auto_accept = yes
#
#}
#
##################### MILITARY SLAVE ############################################################
#
#cse_remove_military_slave_interaction = {
#	interface_priority = 32
#	common_interaction = no
#	category = interaction_category_prison
#
#	desc = cse_remove_military_slave_interaction_desc
#	
#	is_shown = {
#		scope:actor = {
#			has_relation_slave = scope:recipient
#		}
#		scope:recipient = {
#			cse_is_working_as_military_slave_trigger = yes
#		}
#	}
#
#	is_valid_showing_failures_only = {
#		scope:recipient = {
#			is_busy_in_events_localised = yes
#		}
#	}
#	
#	on_accept = {
#		scope:actor = {
#			send_interface_message = {
#				type = event_generic_neutral
#				title = cse_msg_stopped_working_as_miliary_slave
#				right_icon = scope:recipient
#				scope:recipient = {
#					cse_stop_working_as_military_slave_effect = yes
#				}
#			}
#			stress_impact = {
#				greedy = medium_stress_impact_gain
#				compassionate = major_stress_impact_loss
#			}
#		}
#	}
#
#	auto_accept = yes
#
#}
#
##################### SEX SLAVE ############################################################
#
#cse_remove_sex_slave_interaction = {
#	interface_priority = 32
#	common_interaction = no
#	category = interaction_category_prison
#
#	desc = cse_remove_sex_slave_interaction_desc
#	
#	is_shown = {
#		scope:actor = {
#			has_relation_slave = scope:recipient
#		}
#		scope:recipient = {
#			cse_is_working_as_sex_slave_trigger = yes
#		}
#	}
#
#	is_valid_showing_failures_only = {
#		scope:recipient = {
#			is_busy_in_events_localised = yes
#		}
#	}
#	
#	on_accept = {
#		scope:actor = {
#			send_interface_message = {
#				type = event_generic_neutral
#				title = cse_msg_stopped_working_as_sex_slave
#				right_icon = scope:recipient
#				scope:recipient = {
#					cse_stop_working_as_sex_slave_effect = yes
#				}
#			}
#			stress_impact = {
#				lustful = minor_stress_impact_gain
#				chaste = major_stress_impact_loss
#				compassionate = major_stress_impact_loss
#			}
#		}
#	}
#
#	auto_accept = yes
#
#}